function getLocalTime(b){return(new Date(parseInt(b))).toLocaleString().replace(/:\d{1,2}$/," ")}Date.prototype.Format=function(b){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in c)(new RegExp("("+a+")")).test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?c[a]:("00"+c[a]).substr((""+c[a]).length)));return b};function renderDateTime(b){return null==b||void 0==b.time||null==b.time?"\u672a\u77e5":(new Date(b.time)).Format("yyyy-MM-dd hh:mm:ss")}function clearSpellingForAudio(b){for(var c=RegExp("[\\/?\u2026\u2026\uff1f]"),a="",e,d=0;d<b.length;d++)e=b.substr(d,1),a+=e.replace(c,"_");return a}function clearNonEnglishSymbolForString(b){for(var c=RegExp("[\\[\\]\u00b7\x3c\x3e~\u2026\u2026*;\u3010\u3011\u2018\uff1b\uff1a\u201d\u201c\u3002\u25cf\uff0c\u3001\uff1f]"),a="",e,d=0;d<b.length;d++)e=b.substr(d,1)," "==e?0<d&&" "!=a.substr(a.length-1,1)&&(a+=" "):a+=e.replace(c,"_");return a}function clearEnglishSymbolForString(b){for(var c=RegExp("[.!?,:;\u2026~()]"),a="",e,d=0;d<b.length;d++)e=b.substr(d,1)," "==e?0<d&&" "!=a.substr(a.length-1,1)&&(a+=" "):a="/"==e?a+" ":a+e.replace(c,"");return a}function clearStringForSpeak(b){for(var c=/[*-.!?// ]/,a="",e,d=0;d<b.length;d++)e=b.substr(d,1),a+=e.replace(c,"");return a}function clearExtraBlankString(b){for(var c="",a,e=0;e<b.length;e++)a=b.substr(e,1)," "==a?0<e&&" "!=c.substr(c.length-1,1)&&(c+=" "):c+=a;return c}function getIndexOfFirstErorrLetter(b,c){for(var a=-1,e=b.length,d=c.length,f=0;f<e;f++)if(null==c[f]||b[f]!=c[f]){a=f;break}-1==a&&d>e&&(a=e-1);return a}function compareUserInputAndStandarSpelling(b,c){var a=getIndexOfFirstErorrLetter(b,$.trim(clearExtraBlankString(c)));a!=b.length-1||isEnglishLetter(b.charAt(a))||(a=-1);-1!=a&&(a=getIndexOfFirstErorrLetter($.trim(clearEnglishSymbolForString(b)),$.trim(clearEnglishSymbolForString(c))));return a}function isSameUserInLocalStorage(){if(window.localStorage&&window.localStorage.userinfo){var b=$("#currentUserId").val(),c=JSON.parse(window.localStorage.userinfo);return c.userId&&c.userId==b?!0:!1}return!1}function insertAtCaret(b,c){var a=document.getElementById(b),e=a.scrollTop,d=0,f=a.selectionStart||"0"==a.selectionStart?"ff":document.selection?"ie":!1;if("ie"==f){a.focus();var g=document.selection.createRange();g.moveStart("character",-a.value.length);d=g.text.length}else"ff"==f&&(d=a.selectionStart);var g=a.value.substring(0,d),h=a.value.substring(d,a.value.length);a.value=g+c+h;d+=c.length;"ie"==f?(a.focus(),g=document.selection.createRange(),g.moveStart("character",-a.value.length),g.moveStart("character",d),g.moveEnd("character",0),g.select()):"ff"==f&&(a.selectionStart=d,a.selectionEnd=d,a.focus());a.scrollTop=e}function getTestType(b){testType="\u5b66\u4e60\u6d4b\u8bd5";1==b?testType="\u5355\u5143\u6d4b\u8bd5":2==b?testType="\u5b66\u524d\u6d4b\u8bd5":3==b?testType="\u5b66\u540e\u6d4b\u8bd5":4==b?testType="\u6df7\u5408\u6d4b\u8bd5":5==b?testType="\u81ea\u4e3b\u6d4b\u8bd5":6==b?testType="\u542c\u8bfb\u8bad\u7ec3":8==b?testType="\u9519\u8bcd\u5f3a\u5316\u6d4b":-1==b&&(testType="\u5168\u4e66\u6d4b\u8bd5");return testType}function getFollowSpeakOnThisInLocalStorage(b){var c=0;if(window.localStorage)if(window.localStorage.userinfo){var a=JSON.parse(window.localStorage.userinfo);a.userId==b?a.follow_speak_on_this?c=a.follow_speak_on_this:(a.userId=b,a.follow_speak_on_this=c,window.localStorage.userinfo=JSON.stringify(a)):(a={},a.userId=b,a.follow_speak_on_this=c,window.localStorage.userinfo=JSON.stringify(a))}else a={},a.userId=b,a.follow_speak_on_this=c,window.localStorage.userinfo=JSON.stringify(a);return c}function setFollowSpeakOnThisInLocalStorage(b,c){if(window.localStorage){var a={};window.localStorage.userinfo?(a=JSON.parse(window.localStorage.userinfo),a.userId!=b&&(a.userId=b)):a.userId=b;a.follow_speak_on_this=c;window.localStorage.userinfo=JSON.stringify(a)}}function isEnglishLetter(b){var c=!0;"A"<b&&"Z">=b||"a"<b&&"z">b||(c=!1);return c}function asyncLoadJs(b){function c(){for(var a=0;a<b.length;a++){var c=document.createElement("script");c.type="text/javascript";c.async=!0;c.src=b[a];var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}}window.attachEvent?window.attachEvent("onload",c):window.addEventListener("load",c,!1)};