package com.goldfish.api;

import com.goldfish.common.CommonResult;
import com.goldfish.web.base.BaseController;
import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;

import java.util.Map;

/**
 * Created by John on 2018/5/20 0020.
 */
@Controller
@RequestMapping("/api/Ajax")
public class AjaxReviewBookController extends BaseController {


    /**
     * 获取待复习单词
     *
     * {
     "data":[
     {
     "Id":1419,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8120e1005d",
     "spelling":"red",
     "meaning":"红色的",
     "soundMarkUs":"[red]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":0,
     "isCollected":false
     },
     {
     "Id":1420,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8120e2005e",
     "spelling":"get",
     "meaning":"v.得到;使得;抓住;克服;明白;激怒;患（病）;达到",
     "soundMarkUs":"[ɡet]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":1,
     "isCollected":false
     },
     {
     "Id":1421,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8120e2005f",
     "spelling":"set",
     "meaning":"设定;设置（一）套;定居",
     "soundMarkUs":"[set]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":2,
     "isCollected":false
     },
     {
     "Id":1422,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8120e30060",
     "spelling":"wet",
     "meaning":"湿的",
     "soundMarkUs":"[wet]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":3,
     "isCollected":false
     },
     {
     "Id":1423,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8120e30061",
     "spelling":"best",
     "meaning":"最好的",
     "soundMarkUs":"[best]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":4,
     "isCollected":false
     },
     {
     "Id":1424,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8120e40062",
     "spelling":"west",
     "meaning":"西方;西方的",
     "soundMarkUs":"[west]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":5,
     "isCollected":false
     },
     {
     "Id":1425,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8120e40063",
     "spelling":"desk",
     "meaning":"课桌;书桌",
     "soundMarkUs":"[desk]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":6,
     "isCollected":false
     },
     {
     "Id":1426,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81210f0064",
     "spelling":"dress",
     "meaning":"n.服装;女装;v.打扮;穿衣;",
     "soundMarkUs":"[dres]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":7,
     "isCollected":false
     },
     {
     "Id":1427,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8121100065",
     "spelling":"bell",
     "meaning":"钟;",
     "soundMarkUs":"[bel]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":8,
     "isCollected":false
     },
     {
     "Id":1428,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8121100066",
     "spelling":"hell",
     "meaning":"地狱",
     "soundMarkUs":"[hel]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":9,
     "isCollected":false
     },
     {
     "Id":1429,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8121110067",
     "spelling":"sell",
     "meaning":"销售;售卖",
     "soundMarkUs":"[sel]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":10,
     "isCollected":false
     },
     {
     "Id":1430,
     "vocCode":"8a108cb7-42aa-d911-0142-ad812113006a",
     "spelling":"tell",
     "meaning":"告诉",
     "soundMarkUs":"[tel]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":11,
     "isCollected":false
     },
     {
     "Id":1431,
     "vocCode":"8a108cb7-42aa-d911-0142-ad812113006b",
     "spelling":"well",
     "meaning":"很好 好的",
     "soundMarkUs":"[wel]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":12,
     "isCollected":false
     },
     {
     "Id":1432,
     "vocCode":"8a108cb7-42aa-d911-0142-ad812114006c",
     "spelling":"end",
     "meaning":"结束;在...末尾",
     "soundMarkUs":"[end]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":13,
     "isCollected":false
     },
     {
     "Id":1433,
     "vocCode":"8a108cb7-42aa-d911-0142-ad812114006d",
     "spelling":"bend",
     "meaning":"弯曲",
     "soundMarkUs":"[bend]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":14,
     "isCollected":false
     },
     {
     "Id":1434,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81211a006e",
     "spelling":"lend",
     "meaning":"借...给...",
     "soundMarkUs":"[lend]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":15,
     "isCollected":false
     },
     {
     "Id":1436,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81211b0070",
     "spelling":"rend",
     "meaning":"撕破;分裂",
     "soundMarkUs":"[rend]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":16,
     "isCollected":false
     },
     {
     "Id":1437,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81211c0071",
     "spelling":"send",
     "meaning":"vt.发送;派遣;使处于...的状态;放出;运输",
     "soundMarkUs":"[send]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":17,
     "isCollected":false
     },
     {
     "Id":1438,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81211c0072",
     "spelling":"spend",
     "meaning":"花费;度过",
     "soundMarkUs":"[spend]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":18,
     "isCollected":false
     },
     {
     "Id":1439,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81211d0073",
     "spelling":"spent",
     "meaning":"花费;度过（过去式）",
     "soundMarkUs":"[spent]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":19,
     "isCollected":false
     },
     {
     "Id":1440,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81211e0074",
     "spelling":"fence",
     "meaning":"围栏篱笆;购买赃物的人",
     "soundMarkUs":"[fens]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":20,
     "isCollected":false
     },
     {
     "Id":1441,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81211e0075",
     "spelling":"hence",
     "meaning":"因此;从此后",
     "soundMarkUs":"[hens]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":21,
     "isCollected":false
     },
     {
     "Id":1442,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81211f0076",
     "spelling":"then",
     "meaning":"adv.那么;然后;当时;而且",
     "soundMarkUs":"[ðen]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":22,
     "isCollected":false
     },
     {
     "Id":1443,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8121200077",
     "spelling":"pen",
     "meaning":"钢笔",
     "soundMarkUs":"[pen]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":23,
     "isCollected":false
     },
     {
     "Id":1444,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81213c007b",
     "spelling":"hen",
     "meaning":"母鸡",
     "soundMarkUs":"[hen]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":24,
     "isCollected":false
     },
     {
     "Id":1445,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81213d007c",
     "spelling":"ten",
     "meaning":"十",
     "soundMarkUs":"[ten]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":25,
     "isCollected":false
     },
     {
     "Id":1446,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81213d007d",
     "spelling":"tent",
     "meaning":"帐篷;住帐篷",
     "soundMarkUs":"[tent]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":26,
     "isCollected":false
     },
     {
     "Id":1447,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81213d007e",
     "spelling":"tenth",
     "meaning":"第十;十分之一",
     "soundMarkUs":"[tenθ]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":27,
     "isCollected":false
     },
     {
     "Id":1448,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81213e007f",
     "spelling":"twenty",
     "meaning":"二十",
     "soundMarkUs":"['twentɪ]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":28,
     "isCollected":false
     },
     {
     "Id":1449,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81213e0080",
     "spelling":"lent",
     "meaning":"借出（过去式）;（基督教）打斋节",
     "soundMarkUs":"[lent]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":29,
     "isCollected":false
     },
     {
     "Id":1450,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81213f0081",
     "spelling":"mind",
     "meaning":"头脑;精神;心;理智",
     "soundMarkUs":"[maɪnd]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":30,
     "isCollected":false
     },
     {
     "Id":1451,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81213f0082",
     "spelling":"rent",
     "meaning":"租借租用;租金",
     "soundMarkUs":"[rent]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":31,
     "isCollected":false
     },
     {
     "Id":1452,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8121400083",
     "spelling":"left",
     "meaning":"左边;离开（过去式）",
     "soundMarkUs":"[left]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":32,
     "isCollected":false
     },
     {
     "Id":1453,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8121430084",
     "spelling":"theft",
     "meaning":"n. 偷盗，偷窃; 被盗，失窃; 盗窃之物，赃物; 失窃案例（注意：不是thief）",
     "soundMarkUs":"[θeft]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":33,
     "isCollected":false
     },
     {
     "Id":1454,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8121430085",
     "spelling":"lemon",
     "meaning":"柠檬",
     "soundMarkUs":"['lemən]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":34,
     "isCollected":false
     },
     {
     "Id":1455,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8121440086",
     "spelling":"lemonade",
     "meaning":"柠檬汁",
     "soundMarkUs":"[ˌlemə'neɪd]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":35,
     "isCollected":false
     },
     {
     "Id":1456,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8121440087",
     "spelling":"lesson",
     "meaning":"课程;教训",
     "soundMarkUs":"['lesn]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":36,
     "isCollected":false
     },
     {
     "Id":1457,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8121450088",
     "spelling":"second",
     "meaning":"第二;秒钟",
     "soundMarkUs":"['sekənd]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":37,
     "isCollected":false
     },
     {
     "Id":1458,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8121450089",
     "spelling":"very",
     "meaning":"非常;很",
     "soundMarkUs":"['verɪ]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":38,
     "isCollected":false
     },
     {
     "Id":1459,
     "vocCode":"8a108cb7-42aa-d911-0142-ad812146008a",
     "spelling":"berry",
     "meaning":"浆果;采浆果",
     "soundMarkUs":"['berɪ]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":39,
     "isCollected":false
     },
     {
     "Id":1460,
     "vocCode":"8a108cb7-42aa-d911-0142-ad812188008d",
     "spelling":"lick",
     "meaning":"舔;击败",
     "soundMarkUs":"[lɪk]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":40,
     "isCollected":false
     },
     {
     "Id":1461,
     "vocCode":"8a108cb7-42aa-d911-0142-ad812188008e",
     "spelling":"pick",
     "meaning":"挑选;拾起",
     "soundMarkUs":"[pɪk]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":41,
     "isCollected":false
     },
     {
     "Id":1462,
     "vocCode":"8a108cb7-42aa-d911-0142-ad812189008f",
     "spelling":"kick",
     "meaning":"踢;反冲",
     "soundMarkUs":"[kɪk]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":42,
     "isCollected":false
     },
     {
     "Id":1463,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8121890090",
     "spelling":"sick",
     "meaning":"有病的;恶心的",
     "soundMarkUs":"[sɪk]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":43,
     "isCollected":false
     },
     {
     "Id":1464,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81218a0092",
     "spelling":"thick",
     "meaning":"厚的;浓密的;粗的",
     "soundMarkUs":"[θɪk]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":44,
     "isCollected":false
     },
     {
     "Id":1788,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8123e10216",
     "spelling":"phone",
     "meaning":"电话",
     "soundMarkUs":"[fəʊn]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":45,
     "isCollected":false
     },
     {
     "Id":1789,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8123e10217",
     "spelling":"telephone",
     "meaning":"电话",
     "soundMarkUs":"['telɪfəʊn]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":46,
     "isCollected":false
     },
     {
     "Id":1790,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8123e10218",
     "spelling":"elephant",
     "meaning":"大象",
     "soundMarkUs":"['elɪfənt]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":47,
     "isCollected":false
     },
     {
     "Id":1791,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8123e20219",
     "spelling":"photo",
     "meaning":"照片",
     "soundMarkUs":"['fəʊtəʊ]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":48,
     "isCollected":false
     },
     {
     "Id":1792,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8123e2021a",
     "spelling":"alphabet",
     "meaning":"字母表",
     "soundMarkUs":"['ælfəbet]",
     "soundMarkUk":"",
     "UnitId":0,
     "vocIndex":49,
     "isCollected":false
     }
     ],
     "success":true,
     "condition":0,
     "msg":"搞定！",
     "studytoken":"eb71d264-d7a9-453a-86fe-68b82c69d490",
     "totalNbr":0
     }
     *
     * @param orderType
     * @param start
     * @param limit
     * @param context
     * @return
     */
    @RequestMapping(value="AjaxGetReview",method={RequestMethod.GET,RequestMethod.POST})
    public @ResponseBody
    Map<String,Object> doAjaxGetReview(String orderType, Integer start, Integer limit, ModelMap context) {
        CommonResult result = null;
        return result.getReturnMap();
    }

    @RequestMapping(value="AjaxGetReviewCount",method={RequestMethod.GET,RequestMethod.POST})
    public @ResponseBody
    Map<String,Object> doAjaxGetReviewCount(ModelMap context) {
     CommonResult result = new CommonResult();

//     {
//      "success": true,
//             "condition": 0,
//             "msg": "完成加载",
//             "studytoken": "00000000-0000-0000-0000-000000000000",
//             "totalNbr": 28
//     }
     result.setSuccess(true);



     return result.getReturnMap();
    }

    /**
     * 保存单词复习记录
     *
     * vocDataAfterReview:[
     {
     "memoryLevel":null,
     "reviewTimes":null,
     "timeLeft":null,
     "userVocCode":null,
     "userCode":"f4f18fcf-c36c-49a3-a23e-a751c0743d4b",
     "finishReadingTime":3,
     "isFstReadSuccess":false,
     "readFailTimes":1,
     "continueReadFailTimes":0,
     "isHalfReading":false,
     "isFstSpellSuccess":true,
     "spellFailTimes":0,
     "continueSpellFailTimes":0,
     "isHalfSpelling":false,
     "isRemember":true,
     "isCancelReview":false,
     "vocCode":"8a108cb7-42aa-d911-0142-ad81213d007c"
     },
     {
     "memoryLevel":null,
     "reviewTimes":null,
     "timeLeft":null,
     "userVocCode":null,
     "userCode":"f4f18fcf-c36c-49a3-a23e-a751c0743d4b",
     "finishReadingTime":1,
     "isFstReadSuccess":true,
     "readFailTimes":0,
     "continueReadFailTimes":0,
     "isHalfReading":false,
     "isFstSpellSuccess":true,
     "spellFailTimes":0,
     "continueSpellFailTimes":0,
     "isHalfSpelling":false,
     "isRemember":true,
     "isCancelReview":false,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8120e1005d"
     },
     {
     "memoryLevel":null,
     "reviewTimes":null,
     "timeLeft":null,
     "userVocCode":null,
     "userCode":"f4f18fcf-c36c-49a3-a23e-a751c0743d4b",
     "finishReadingTime":0,
     "isFstReadSuccess":true,
     "readFailTimes":0,
     "continueReadFailTimes":0,
     "isHalfReading":false,
     "isFstSpellSuccess":false,
     "spellFailTimes":1,
     "continueSpellFailTimes":0,
     "isHalfSpelling":false,
     "isRemember":false,
     "isCancelReview":false,
     "vocCode":"8a108cb7-42aa-d911-0142-ad8120e2005f"
     }
     ]
     studytoken:eb71d264-d7a9-453a-86fe-68b82c69d490
     totalReadingTime:48
     totalWritingTime:15

     {"success":true,"msg":"记忆已经保存","cashPoint":0}
     *
     * @param context
     * @return
     */
    @RequestMapping(value="AjaxSaveReview",method={RequestMethod.GET,RequestMethod.POST})
    public @ResponseBody
    Map<String,Object> doAjaxSaveReview(String studytoken, Long totalReadingTime, Long totalWritingTime, String vocDataAfterReview, ModelMap context) {
        CommonResult result = null;
        return result.getReturnMap();
    }

}
